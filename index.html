<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Piano - ThreeJS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karantina:wght@300;400;700&family=Rubik+Maze&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22></text></svg>">
</head>
<body>
    <div class="background-effects"></div>
    
    <h1>3D Piano <span class="version">Verdion 3.0</span></h1>
    
    <!-- Toggle Controls Button -->
    <button class="toggle-controls">
        <i class="fas fa-chevron-left"></i>
        <span>专转</span>
    </button>
    
    <!-- Controls Panel -->
    <div class="controls-panel">
        <div class="tabs">
            <button class="tab-btn active" data-tab="sound" data-translate="sound">Sound</button>
            <button class="tab-btn" data-tab="visual" data-translate="visual">Visual</button>
            <button class="tab-btn" data-tab="help" data-translate="help">Help</button>
        </div>
        
        <div class="tab-content active" id="sound">
            <div class="control-group">
                <label data-translate="soundBank">Sound Bank</label>
                <div class="button-group">
                    <button class="sound-bank-btn active" data-bank="synth" data-translate="synth">Synth</button>
                    <button class="sound-bank-btn" data-bank="piano" data-translate="piano">Piano</button>
                    <button class="sound-bank-btn" data-bank="marimba" data-translate="marimba">Marimba</button>
                </div>
            </div>
            
            <div class="control-group">
                <label data-translate="waveform">Waveform</label>
                <div class="button-group">
                    <button class="waveform-btn active" data-waveform="sine" data-translate="sine">Sine</button>
                    <button class="waveform-btn" data-waveform="square" data-translate="square">Square</button>
                    <button class="waveform-btn" data-waveform="triangle" data-translate="triangle">Triangle</button>
                    <button class="waveform-btn" data-waveform="sawtooth" data-translate="sawtooth">Sawtooth</button>
                </div>
            </div>
            
            <div class="control-group">
                <label data-translate="volume">Volume</label>
                <input type="range" class="slider" id="volume" min="0" max="100" value="50">
                <span class="value-display">50%</span>
            </div>
            
            <div class="control-group">
                <label data-translate="attack">Attack</label>
                <input type="range" class="slider" id="attack" min="0" max="100" value="0">
                <span class="value-display">0ms</span>
            </div>
            
            <div class="control-group">
                <label data-translate="release">Release</label>
                <input type="range" class="slider" id="release" min="0" max="100" value="0">
                <span class="value-display">0ms</span>
            </div>
            
            <div class="control-group">
                <label data-translate="reverb">Reverb</label>
                <input type="range" class="slider" id="reverb" min="0" max="100" value="0">
                <span class="value-display">0%</span>
            </div>
            
            <div class="control-group">
                <label data-translate="delay">Delay</label>
                <input type="range" class="slider" id="delay" min="0" max="100" value="0">
                <span class="value-display">0%</span>
            </div>
            
            <div class="control-group">
                <label data-translate="distortion">Distortion</label>
                <input type="range" class="slider" id="distortion" min="0" max="100" value="0">
                <span class="value-display">0%</span>
            </div>
            
            <div class="control-group">
                <label data-translate="filter">Filter</label>
                <input type="range" class="slider" id="filter" min="0" max="100" value="0">
                <span class="value-display">0%</span>
            </div>
        </div>
        
        <div class="tab-content" id="visual">
            <div class="control-group">
                <label data-translate="theme">Theme</label>
                <div class="button-group">
                    <button class="theme-btn active" data-theme="default" data-translate="default">Default</button>
                    <button class="theme-btn" data-theme="neon" data-translate="neon">Neon</button>
                    <button class="theme-btn" data-theme="classic" data-translate="classic">Classic</button>
                </div>
            </div>
            
            <div class="control-group">
                <label data-translate="language">Language</label>
                <div class="button-group">
                    <button class="lang-btn active" data-lang="en">English</button>
                    <button class="lang-btn" data-lang="he">注专转</button>
                </div>
            </div>
            
            <div class="control-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="particles" checked>
                    <span data-translate="particles">Particles</span>
                </label>
            </div>
            
            <div class="control-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="animatedBackground" checked>
                    <span data-translate="animatedBackground">Animated Background</span>
                </label>
            </div>
            
            <div class="control-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="noteTrails" checked>
                    <span data-translate="noteTrails">Note Trails</span>
                </label>
            </div>
        </div>
        
        <div class="tab-content" id="help">
            <h2 data-translate="helpTitle">How to Play</h2>
            <p data-translate="helpContent">Click on the piano keys to play notes. Hold Shift to sustain notes. Use the side menu to adjust sound and visual settings.</p>
        </div>
    </div>
    
    <!-- Canvas Container -->
    <div id="canvas-container"></div>
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="script.js"></script>
</body>
</html>